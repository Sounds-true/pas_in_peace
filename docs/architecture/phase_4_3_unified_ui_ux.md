# Phase 4.3: Unified UI/UX Architecture
**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è pas_in_peace + inner_edu —Å –µ–¥–∏–Ω—ã–º –∏–≥—Ä–æ–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º**

## üìã –û–±–∑–æ—Ä

–ï–¥–∏–Ω–∞—è UI/UX —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è:
1. **–†–æ–¥–∏—Ç–µ–ª–∏ (pas_in_peace)**: Telegram –±–æ—Ç + Web dashboard –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, —Å–æ–∑–¥–∞–Ω–∏—è –∫–≤–µ—Å—Ç–æ–≤
2. **–î–µ—Ç–∏ (inner_edu)**: –ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∏–≥—Ä–∞-–∫–≤–µ—Å—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è + —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ
3. **–†–µ–∂–∏–º —Å–æ–∑–¥–∞—Ç–µ–ª—è**: Mind map + Story-to-Quest –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä
4. **Wiki**: –û–±—É—á–∞—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π-—Å–æ–∑–¥–∞—Ç–µ–ª–µ–π

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏–∑ InnerWorld DNA

### 1. IFS (Internal Family Systems) –∫–∞–∫ –¥–≤–∏–∂–æ–∫
- **Part-Twins**: –ö–∞–∂–¥–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —á–∞—Å—Ç—å = –ò–ò-–∞–≥–µ–Ω—Ç
  - –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä (–ú–µ–Ω–µ–¥–∂–µ—Ä)
  - –ö—Ä–∏—Ç–∏–∫ (–ü–æ–∂–∞—Ä–Ω—ã–π)
  - –†–µ–±–µ–Ω–æ–∫-–£–ª–∏—Ç–∫–∞ (–ò–∑–≥–Ω–∞–Ω–Ω–∏–∫)
  - –ë—É–Ω—Ç–∞—Ä—å (–ü–æ–∂–∞—Ä–Ω—ã–π)
- **Self-Leadership**: –î–∏–∞–ª–æ–≥ —á–∞—Å—Ç–µ–π ‚Üí —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- **Unburdening**: –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±—Ä–µ–º–µ–Ω–∏

### 2. –¢–†–ò–ó –∫–∞–∫ —è–¥—Ä–æ –∏—Å—Ü–µ–ª–µ–Ω–∏—è
- **–ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è**: –ö–æ–Ω—Ç—Ä–æ–ª—å vs –°–≤–æ–±–æ–¥–∞, –°—Ç—Ä—É–∫—Ç—É—Ä–∞ vs –•–∞–æ—Å
- **–ò–ö–† (–ò–¥–µ–∞–ª—å–Ω—ã–π –ö–æ–Ω–µ—á–Ω—ã–π –†–µ–∑—É–ª—å—Ç–∞—Ç)**: –°–∏—Å—Ç–µ–º–∞ –°–ê–ú–ê —Ä–µ—à–∞–µ—Ç –±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è
- **40 –ø—Ä–∏–µ–º–æ–≤ –¢–†–ò–ó**: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º–µ–Ω–∏, –°–∞–º–æ–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ

### 3. CBT/DBT –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è
- **–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∞—è –ê–∫—Ç–∏–≤–∞—Ü–∏—è (BA)**: –ö–≤–µ—Å—Ç—ã —Å –æ—Ü–µ–Ω–∫–æ–π —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è/–∑–Ω–∞—á–∏–º–æ—Å—Ç–∏
- **–ñ—É—Ä–Ω–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º—ã—Å–ª–µ–π**: –ú–∏–Ω–∏-–∏–≥—Ä–∞ "–ü–µ—Ä–µ–ø—Ä–æ—à–∏–≤–∫–∞"
- **Random Challenge**: ACCEPTS, TIPP, Self-Soothing
- **XP-—Å–∏—Å—Ç–µ–º–∞**: –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ ‚Üí –ø—Ä–æ–≥—Ä–µ—Å—Å

### 4. Reality-Game Bridge (RG-Bridge)
- **Proof-of-Emotional-Work (PoEW)**: –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –≥–ª—É–±–∏–Ω—É —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏
- **–ú–∏–∫—Ä–æ-—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã**: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å ‚Üí —Ä–µ–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∏—Ä–∞**: –õ–∞–±–∏—Ä–∏–Ω—Ç —Å–≤–µ—Ç–ª–µ–µ—Ç, –°–∞–¥ —Ä–∞—Å—Ç–µ—Ç

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º—ã

### A. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (pas_in_peace)

#### 1. **Telegram Bot** (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
```
/start - Onboarding
/progress - 4-—Ç—Ä–µ–∫–æ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å (‚úÖ –ì–û–¢–û–í–û Phase 4.2)
/letter - –ü–∏—Å—å–º–æ —Ä–µ–±–µ–Ω–∫—É
/goals - –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏
/quest - –°–æ–∑–¥–∞—Ç—å –∫–≤–µ—Å—Ç (–ù–û–í–û–ï)
/analytics - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Ä–µ–±–µ–Ω–∫—É (—Å —Å–æ–≥–ª–∞—Å–∏—è)
```

#### 2. **Web Dashboard** (–ù–û–í–û–ï - Phase 4.3)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**
```
‚îå‚îÄ Dashboard
‚îÇ  ‚îú‚îÄ Multi-Track Progress (4 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
‚îÇ  ‚îÇ  ‚îú‚îÄ üíö –†–∞–±–æ—Ç–∞ –Ω–∞–¥ —Å–æ–±–æ–π (Self-Work)
‚îÇ  ‚îÇ  ‚îú‚îÄ üíô –°–≤—è–∑—å —Å —Ä–µ–±–µ–Ω–∫–æ–º (Child Connection)
‚îÇ  ‚îÇ  ‚îú‚îÄ ü§ù –ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã (Negotiation)
‚îÇ  ‚îÇ  ‚îî‚îÄ üë• –°–æ–æ–±—â–µ—Å—Ç–≤–æ (Community)
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ Quest Builder (–°–æ–∑–¥–∞–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤)
‚îÇ  ‚îÇ  ‚îú‚îÄ Story Mode - –¥–∏–∞–ª–æ–≥ —Å AI
‚îÇ  ‚îÇ  ‚îú‚îÄ Mind Map Mode - –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
‚îÇ  ‚îÇ  ‚îú‚îÄ Template Gallery - –≥–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã
‚îÇ  ‚îÇ  ‚îî‚îÄ Preview & Deploy
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ Letters & Goals
‚îÇ  ‚îÇ  ‚îú‚îÄ Letter Drafts
‚îÇ  ‚îÇ  ‚îú‚îÄ Sent Letters
‚îÇ  ‚îÇ  ‚îî‚îÄ Active Goals
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ Child Analytics (—Å —Å–æ–≥–ª–∞—Å–∏—è —Ä–µ–±–µ–Ω–∫–∞)
‚îÇ  ‚îÇ  ‚îú‚îÄ Quest Completion Rate
‚îÇ  ‚îÇ  ‚îú‚îÄ Learning Progress
‚îÇ  ‚îÇ  ‚îú‚îÄ Emotional State (aggregate)
‚îÇ  ‚îÇ  ‚îî‚îÄ Privacy Settings ‚ö†Ô∏è
‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ Profile & Settings
‚îÇ     ‚îú‚îÄ Recovery Plan
‚îÇ     ‚îú‚îÄ Notifications
‚îÇ     ‚îî‚îÄ Privacy & Security
```

**–ö–ª—é—á–µ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

1. **MultiTrackProgressCard** (IdleMMO-style)
```tsx
<MultiTrackProgressCard>
  <TrackItem track="self_work">
    <ProgressBar percentage={45} phase="EXPRESSION" />
    <MilestonesRow badges={[CBT_FIRST, GOAL_SET]} />
    <NextActionSuggestion>
      "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫—É –∑–∞–∑–µ–º–ª–µ–Ω–∏—è"
    </NextActionSuggestion>
  </TrackItem>
  ...
</MultiTrackProgressCard>
```

2. **QuestBuilderWizard** (Multi-stage)
```tsx
<QuestBuilderWizard>
  <Stage name="INITIAL">
    –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Ä–µ–±–µ–Ω–∫–µ...
  </Stage>
  <Stage name="GATHERING">
    AI —Å–æ–±–∏—Ä–∞–µ—Ç —Å–µ–º–µ–π–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏
  </Stage>
  <Stage name="GENERATING">
    GPT-4 —Å–æ–∑–¥–∞–µ—Ç YAML –∫–≤–µ—Å—Ç–∞
  </Stage>
  <Stage name="REVIEWING">
    <QuestPreview />
    <EditControls />
  </Stage>
  <Stage name="MODERATING">
    Content moderation check
  </Stage>
  <Stage name="FINALIZING">
    Deploy to inner_edu
  </Stage>
</QuestBuilderWizard>
```

3. **MindMapBuilder** (notare.uk-style)
```tsx
<MindMapBuilder>
  <CentralNode type="quest_core">
    –ò—Å—Ç–æ—Ä–∏—è –æ —Å–µ–º—å–µ
  </CentralNode>
  <Branch type="character">
    <Node>–ü–µ—Ä—Å–æ–Ω–∞–∂ (–¥–≤–æ–π–Ω–∏–∫ —Ä–µ–±–µ–Ω–∫–∞)</Node>
    <Attributes>
      age, interests, strengths
    </Attributes>
  </Branch>
  <Branch type="challenge">
    <Node>–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è</Node>
    <GameMechanics>
      puzzles, riddles, tasks
    </GameMechanics>
  </Branch>
  <Branch type="reveal">
    <Node>–ú–æ–º–µ–Ω—Ç—ã —É–∑–Ω–∞–≤–∞–Ω–∏—è</Node>
    <FamilyClues>
      photos, jokes, memories
    </FamilyClues>
  </Branch>
</MindMapBuilder>
```

### B. –î–µ—Ç—Å–∫–∏–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (inner_edu)

#### 1. **Quest Player** (–û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º)

**Game Loop:**
```
Start Quest
  ‚Üì
[Node] Educational Content
  ‚îú‚îÄ Math problem
  ‚îú‚îÄ Logic puzzle
  ‚îú‚îÄ Reading comprehension
  ‚îî‚îÄ Emotional intelligence task
  ‚Üì
Complete Challenge
  ‚Üì
[Reward] XP + Badge + Story Fragment
  ‚Üì
[Optional Reveal] Family clue appears
  ‚Üì
Next Node or Quest Complete
```

**UI Layout (IdleMMO-inspired):**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üéÆ Quest: "–¢–∞–π–Ω–∞ —Å—Ç–∞—Ä–æ–≥–æ —Å–∞–¥–∞"     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                     ‚îÇ
‚îÇ  [Character Avatar]                 ‚îÇ
‚îÇ  HP: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë 80%                 ‚îÇ
‚îÇ  XP: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë 60% (480/800)      ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ Current Challenge:        ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ                           ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ "–ü–æ–º–æ–≥–∏ –≥–µ—Ä–æ—é —Ä–µ—à–∏—Ç—å      ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  —É—Ä–∞–≤–Ω–µ–Ω–∏–µ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  –¥–≤–µ—Ä—å –≤ —Å–∞–¥"             ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ                           ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  2x + 5 = 13              ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  x = ?                    ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ                           ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  [Input: ___]             ‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  Progress: [‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†‚ñë‚ñë‚ñë‚ñë‚ñë] Node 5/10  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üí° Hints: 2 available              ‚îÇ
‚îÇ  ‚è±Ô∏è Time: No limit                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 2. **–ì–æ–ª–æ—Å–æ–≤–æ–π –†–µ–∂–∏–º** (–ù–û–í–û–ï - –≤–∞–∂–Ω–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ!)

**Voice-First Quest Gameplay:**

```tsx
<VoiceQuestMode>
  {/* –ê—É–¥–∏–æ-–Ω–∞—Ä—Ä–∞—Ç–æ—Ä —á–∏—Ç–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ */}
  <AudioNarrator>
    "–¢—ã —Å—Ç–æ–∏—à—å –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—ã–º —Å–∞–¥–æ–º.
     –ù–∞ –≤–æ—Ä–æ—Ç–∞—Ö –≤–∏—Å–∏—Ç –∑–∞–º–æ–∫ —Å –∑–∞–≥–∞–¥–∫–æ–π..."
  </AudioNarrator>

  {/* –ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ –æ—Ç–≤–µ—Ç–∞ */}
  <VoiceInput>
    <MicButton />
    <SpeechRecognition lang="ru-RU" />
  </VoiceInput>

  {/* –í–∏–∑—É–∞–ª—å–Ω–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) */}
  <VisualHint>
    üîí [–ö–∞—Ä—Ç–∏–Ω–∫–∞ –∑–∞–º–∫–∞ —Å —Ü–∏—Ñ—Ä–∞–º–∏]
  </VisualHint>

  {/* –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –≥–æ–ª–æ—Å–æ–º */}
  <VoiceFeedback>
    "–û—Ç–ª–∏—á–Ω–æ! –î–≤–µ—Ä—å –æ—Ç–∫—Ä—ã–ª–∞—Å—å!"
  </VoiceFeedback>
</VoiceQuestMode>
```

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –¥–ª—è –≥–æ–ª–æ—Å–∞:**
- **Web Speech API** (–±—Ä–∞—É–∑–µ—Ä–Ω—ã–π STT/TTS)
- **Whisper API** (OpenAI) –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
- **ElevenLabs** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≥–æ–ª–æ—Å–∞ –Ω–∞—Ä—Ä–∞—Ç–æ—Ä–∞
- **Offline fallback**: Mozilla DeepSpeech (–ª–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å)

**Voice Commands:**
```
"–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å"
"–ü–æ–≤—Ç–æ—Ä–∏ –∑–∞–¥–∞–Ω–∏–µ"
"–î–∞–π –ø–æ–¥—Å–∫–∞–∑–∫—É"
"–ü—Ä–æ—á–∏—Ç–∞–π –∏—Å—Ç–æ—Ä–∏—é"
"–ü–æ–∫–∞–∂–∏ –º–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å"
```

#### 3. **Profile & Collection**

```tsx
<PlayerProfile>
  <Avatar customizable />
  <Stats>
    <Level>12</Level>
    <TotalXP>4500</TotalXP>
    <QuestsCompleted>8</QuestsCompleted>
  </Stats>

  <BadgeCollection>
    üßÆ Math Master
    üß† Logic Ninja
    üí≠ Empathy Hero
    üìö Story Detective
  </BadgeCollection>

  <SkillTree>
    <Skill name="Math" level={8} />
    <Skill name="Reading" level={12} />
    <Skill name="Emotional Intelligence" level={6} />
    <Skill name="Critical Thinking" level={9} />
  </SkillTree>

  {/* Privacy-Aware Analytics */}
  <ShareSettings>
    <Toggle name="share_progress_with_parent" default={false} />
    <Toggle name="share_answers" default={false} />
    <Toggle name="share_emotions" default={false} />
  </ShareSettings>
</PlayerProfile>
```

### C. –†–µ–∂–∏–º –°–æ–∑–¥–∞—Ç–µ–ª—è (Creator Mode)

–í–∫–ª–∞–¥–∫–∏ –≤ Quest Builder:

#### 1. **Story Chat** (AI-–¥–∏–∞–ª–æ–≥)
```tsx
<StoryChatInterface>
  <ChatHistory>
    AI: "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –ª—é–±–∏–º–æ–π —Å–µ–º–µ–π–Ω–æ–π —à—É—Ç–∫–µ"
    User: "–ú—ã —Å –¥–æ—á–∫–æ–π –≤—Å–µ–≥–¥–∞ —Å–º–µ—è–ª–∏—Å—å –Ω–∞–¥..."
    AI: "–û—Ç–ª–∏—á–Ω–æ! –≠—Ç–æ —Å—Ç–∞–Ω–µ—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º –≤ –∫–≤–µ—Å—Ç–µ"
  </ChatHistory>

  <ContextPanel>
    <ExtractedInfo>
      ‚Ä¢ Child: –ü–æ–ª–∏–Ω–∞, 9 –ª–µ—Ç
      ‚Ä¢ Interests: —Ä–∏—Å–æ–≤–∞–Ω–∏–µ, –∂–∏–≤–æ—Ç–Ω—ã–µ
      ‚Ä¢ Family joke: "–∫–æ—Ç-—Ñ–∏–ª–æ—Å–æ—Ñ"
      ‚Ä¢ Photo: family_picnic_2020.jpg
    </ExtractedInfo>
  </ContextPanel>

  <AIAssistant model="gpt-4">
    –ü–æ–º–æ–≥–∞–µ—Ç —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è
  </AIAssistant>
</StoryChatInterface>
```

#### 2. **Mind Map** (–≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä)
```tsx
<MindMapEditor>
  <Canvas>
    <CentralNode>
      "–ò—Å—Ç–æ—Ä–∏—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤ —Å–∞–¥"
    </CentralNode>

    <Branch color="blue">
      <Node>–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏</Node>
      <SubNode>2x + 5 = 13</SubNode>
      <SubNode>–ì–µ–æ–º–µ—Ç—Ä–∏—è —Å–∞–¥–∞</SubNode>
    </Branch>

    <Branch color="green">
      <Node>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã</Node>
      <SubNode>–í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø–∏–∫–Ω–∏–∫–µ</SubNode>
      <SubNode>–°–µ–º–µ–π–Ω–∞—è —à—É—Ç–∫–∞</SubNode>
    </Branch>

    <Branch color="purple">
      <Node>Reveal –º–µ—Ö–∞–Ω–∏–∫–∏</Node>
      <SubNode>–§–æ—Ç–æ —Å –ø–∏–∫–Ω–∏–∫–∞ (Node 7)</SubNode>
      <SubNode>–ì–æ–ª–æ—Å —Ä–æ–¥–∏—Ç–µ–ª—è (Node 10)</SubNode>
    </Branch>
  </Canvas>

  <Toolbar>
    <AddNodeButton />
    <ConnectNodesButton />
    <SetDifficultyButton />
    <GenerateYAMLButton />
  </Toolbar>
</MindMapEditor>
```

#### 3. **Template Gallery**
```tsx
<TemplateGallery>
  <Template category="math">
    "–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ª–∞–±–∏—Ä–∏–Ω—Ç"
    Ages: 8-10, Nodes: 12
  </Template>

  <Template category="reading">
    "–î–µ—Ç–µ–∫—Ç–∏–≤–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è"
    Ages: 10-12, Nodes: 15
  </Template>

  <Template category="emotional">
    "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ —ç–º–æ—Ü–∏–π"
    Ages: 7-9, Nodes: 10
  </Template>

  <CustomizeButton>
    Fork & Customize
  </CustomizeButton>
</TemplateGallery>
```

#### 4. **Preview & Test**
```tsx
<QuestPreview>
  <PlayAsChild>
    –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–≤–µ—Å—Ç –∫–∞–∫ —Ä–µ–±–µ–Ω–æ–∫
  </PlayAsChild>

  <ContentModeration>
    ‚úÖ No manipulation detected
    ‚úÖ Age-appropriate
    ‚ö†Ô∏è Consider simplifying Node 5
  </ContentModeration>

  <DifficultyAnalysis>
    Overall: Medium (7/10)
    Math: Hard (8/10)
    Reading: Easy (4/10)
  </DifficultyAnalysis>

  <DeployButton>
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–±–µ–Ω–∫—É
  </DeployButton>
</QuestPreview>
```

## üìö Wiki –¥–ª—è –†–æ–¥–∏—Ç–µ–ª–µ–π-–°–æ–∑–¥–∞—Ç–µ–ª–µ–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (IdleMMO-inspired)

```
docs/wiki/
‚îú‚îÄ‚îÄ Getting Started
‚îÇ   ‚îú‚îÄ‚îÄ What is InnerWorld?
‚îÇ   ‚îú‚îÄ‚îÄ Creating Your First Quest
‚îÇ   ‚îî‚îÄ‚îÄ Privacy & Safety
‚îÇ
‚îú‚îÄ‚îÄ Quest Design
‚îÇ   ‚îú‚îÄ‚îÄ Story Elements
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Character Development
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Family Memories as Clues
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Reveal Mechanics
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Educational Content
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Math Challenges
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Reading Comprehension
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Logic Puzzles
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Emotional Intelligence
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ Game Mechanics
‚îÇ       ‚îú‚îÄ‚îÄ XP & Leveling
‚îÇ       ‚îú‚îÄ‚îÄ Badges & Achievements
‚îÇ       ‚îú‚îÄ‚îÄ Difficulty Tuning
‚îÇ       ‚îî‚îÄ‚îÄ Voice Mode Integration
‚îÇ
‚îú‚îÄ‚îÄ Story-to-Attributes Mapping
‚îÇ   ‚îú‚îÄ‚îÄ How Stories Become Game Elements
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Family joke ‚Üí Password/Code
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Photo ‚Üí Visual clue
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Memory ‚Üí Story fragment
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Hobby ‚Üí Character strength
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ IFS Parts as NPCs
‚îÇ       ‚îú‚îÄ‚îÄ –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä ‚Üí Wise Guide
‚îÇ       ‚îú‚îÄ‚îÄ –ö—Ä–∏—Ç–∏–∫ ‚Üí Challenge Giver
‚îÇ       ‚îî‚îÄ‚îÄ –†–µ–±–µ–Ω–æ–∫ ‚Üí Hero (player proxy)
‚îÇ
‚îú‚îÄ‚îÄ AI Assistant Guide
‚îÇ   ‚îú‚îÄ‚îÄ Talking to the Quest Builder
‚îÇ   ‚îú‚îÄ‚îÄ Refining Generated Content
‚îÇ   ‚îî‚îÄ‚îÄ Content Moderation
‚îÇ
‚îú‚îÄ‚îÄ Advanced Topics
‚îÇ   ‚îú‚îÄ‚îÄ Multi-Quest Campaigns
‚îÇ   ‚îú‚îÄ‚îÄ Collaborative Quests (with other parents)
‚îÇ   ‚îú‚îÄ‚îÄ Analytics & Feedback
‚îÇ   ‚îî‚îÄ‚îÄ Reveal Strategy (Trojan Horse)
‚îÇ
‚îî‚îÄ‚îÄ Community
    ‚îú‚îÄ‚îÄ Quest Template Library
    ‚îú‚îÄ‚îÄ Success Stories
    ‚îî‚îÄ‚îÄ Support Forum
```

### –ü—Ä–∏–º–µ—Ä Wiki-—Å—Ç–∞—Ç—å–∏: "–ö–∞–∫ —Å–µ–º–µ–π–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –∏–≥—Ä—É"

```markdown
# –ö–∞–∫ —Å–µ–º–µ–π–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –∏–≥—Ä—É

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è "–¢—Ä–æ—è–Ω—Å–∫–æ–≥–æ –∫–æ–Ω—è"

–í–∞—à –∫–≤–µ—Å—Ç –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω–∞—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∏–≥—Ä–∞. –†–µ–±–µ–Ω–æ–∫
–ø—Ä–æ—Ö–æ–¥–∏—Ç –∑–∞–¥–∞–Ω–∏—è, –ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞–Ω–∏—è –∏ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ. –ù–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
–≤ –∏–≥—Ä–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∑–Ω–∞–∫–æ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã...

## Story-to-Attribute –ú–∞–ø–ø–∏–Ω–≥

### 1. –°–µ–º–µ–π–Ω–∞—è —à—É—Ç–∫–∞ ‚Üí –ö–æ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ

**–í–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è:**
> "–ú—ã —Å –¥–æ—á–∫–æ–π –≤—Å–µ–≥–¥–∞ —Å–º–µ—è–ª–∏—Å—å, –∫–æ–≥–¥–∞ –Ω–∞—à –∫–æ—Ç —Å–∏–¥–µ–ª
> –∏ —Å–º–æ—Ç—Ä–µ–ª –≤ –æ–∫–Ω–æ. –ù–∞–∑—ã–≤–∞–ª–∏ –µ–≥–æ '–∫–æ—Ç–æ–º-—Ñ–∏–ª–æ—Å–æ—Ñ–æ–º'"

**–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤:**
```yaml
node_7:
  type: puzzle
  challenge: "–í–≤–µ–¥–∏ –∫–æ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≥–µ—Ä–æ–π"
  answer: "–∫–æ—Ç-—Ñ–∏–ª–æ—Å–æ—Ñ"  # –∏–ª–∏ –≤–∞—Ä–∏–∞—Ü–∏–∏
  hint: "–í—Å–ø–æ–º–Ω–∏ –ø—Ä–æ –∂–∏–≤–æ—Ç–Ω–æ–µ, –∫–æ—Ç–æ—Ä–æ–µ –ª—é–±–∏–ª–æ –¥—É–º–∞—Ç—å"
  on_success:
    reveal: family_joke_memory
    message: "–≠—Ç–æ –∂–µ –Ω–∞—à–∞ —à—É—Ç–∫–∞! –ö—Ç–æ —Å–æ–∑–¥–∞–ª —ç—Ç–æ—Ç –∫–≤–µ—Å—Ç?"
```

### 2. –°–µ–º–µ–π–Ω–æ–µ —Ñ–æ—Ç–æ ‚Üí –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞

**–í–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è:**
> "–§–æ—Ç–æ —Å –ø–∏–∫–Ω–∏–∫–∞ 2020, –≥–¥–µ –º—ã –≤—Å–µ –≤ –∂–µ–ª—Ç—ã—Ö —à–ª—è–ø–∞—Ö"

**–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤:**
```yaml
node_10:
  type: observation
  image: "family_picnic_blur.jpg"  # —Ä–∞–∑–º—ã—Ç–æ–µ —Å–Ω–∞—á–∞–ª–∞
  challenge: "–ö–∞–∫–æ–≥–æ —Ü–≤–µ—Ç–∞ —à–ª—è–ø—ã –Ω–∞ —Ñ–æ—Ç–æ?"
  on_success:
    image: "family_picnic_clear.jpg"  # —á–µ—Ç–∫–æ–µ
    reveal: photo_memory
    emotional_impact: HIGH
```

### 3. –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ ‚Üí –°—é–∂–µ—Ç–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç

**–í–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è:**
> "–ú—ã —Å—Ç—Ä–æ–∏–ª–∏ –¥–æ–º–∏–∫ –Ω–∞ –¥–µ—Ä–µ–≤–µ –≤–º–µ—Å—Ç–µ"

**–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤:**
```yaml
story_arc:
  theme: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –¥–æ–º–∏–∫–∞"
  nodes: [3, 7, 12, 15]
  final_reveal:
    type: voice_message
    content: "–ü–æ–º–Ω–∏—à—å, –∫–∞–∫ –º—ã —Å—Ç—Ä–æ–∏–ª–∏ –µ–≥–æ –≤–º–µ—Å—Ç–µ?"
```

## –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –í—Å–µ reveal-–º–æ–º–µ–Ω—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –º–æ–¥–µ—Ä–∞—Ü–∏—é!

‚ùå –ü–ª–æ—Ö–æ: "–¢–≤–æ—è –º–∞–º–∞ –±—Ä–æ—Å–∏–ª–∞ –Ω–∞—Å"
‚úÖ –•–æ—Ä–æ—à–æ: "–ö—Ç–æ-—Ç–æ –æ—á–µ–Ω—å —Å–∫—É—á–∞–µ—Ç –ø–æ —ç—Ç–∏–º –¥–Ω—è–º"

‚ùå –ü–ª–æ—Ö–æ: "–°—É–¥ –∑–∞–±—Ä–∞–ª —Ç–µ–±—è"
‚úÖ –•–æ—Ä–æ—à–æ: "–ú–Ω–æ–≥–æ–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å, –Ω–æ –ª—é–±–æ–≤—å –æ—Å—Ç–∞–ª–∞—Å—å"
```

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–π –°—Ç–∏–ª—å (UI/UX Design System)

### –¶–≤–µ—Ç–æ–≤–∞—è –ü–∞–ª–∏—Ç—Ä–∞

**–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (—Å–ø–æ–∫–æ–π–Ω—ã–π, –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π):
```css
--pas-primary: #4A90E2;      /* –°–∏–Ω–∏–π –¥–æ–≤–µ—Ä–∏—è */
--pas-self-work: #48C774;    /* –ó–µ–ª–µ–Ω—ã–π —Ä–æ—Å—Ç–∞ */
--pas-child: #7B68EE;        /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π —Å–≤—è–∑–∏ */
--pas-negotiation: #FF9F40;  /* –û—Ä–∞–Ω–∂–µ–≤—ã–π –¥–∏–∞–ª–æ–≥–∞ */
--pas-community: #FF6B9D;    /* –†–æ–∑–æ–≤—ã–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ */
--pas-bg: #F5F7FA;
--pas-text: #2C3E50;
```

**–î–µ—Ç—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (—è—Ä–∫–∏–π, –∏–≥—Ä–æ–≤–æ–π):
```css
--inner-primary: #FFD93D;    /* –°–æ–ª–Ω–µ—á–Ω—ã–π –∂–µ–ª—Ç—ã–π */
--inner-success: #6BCF7F;    /* –£—Å–ø–µ—Ö */
--inner-challenge: #FF6B9D;  /* –í—ã–∑–æ–≤ */
--inner-magic: #A78BFA;      /* –ú–∞–≥–∏—è/Reveal */
--inner-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
```

### –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞

```css
/* –†–æ–¥–∏—Ç–µ–ª–∏ */
--font-parent: 'Inter', system-ui, sans-serif;
--heading-parent: 600;
--body-parent: 400;

/* –î–µ—Ç–∏ */
--font-child: 'Fredoka One', 'Comic Sans MS', cursive;
--heading-child: 700;
--body-child: 500;
```

### UI Components

**Card Component** (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π):
```tsx
<Card variant="parent | child">
  <CardHeader>
    <Icon />
    <Title />
    <Actions />
  </CardHeader>
  <CardContent>
    {children}
  </CardContent>
  <CardFooter>
    <ProgressBar />
    <Timestamp />
  </CardFooter>
</Card>
```

**Progress Bar** (IdleMMO-style):
```tsx
<ProgressBar
  value={45}
  max={100}
  showPercentage
  showPhase="EXPRESSION"
  color="gradient"
  animate
>
  <Milestones>
    <Milestone at={25} label="AWARENESS" />
    <Milestone at={50} label="EXPRESSION" active />
    <Milestone at={75} label="ACTION" />
    <Milestone at={100} label="MASTERY" />
  </Milestones>
</ProgressBar>
```

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

### Frontend (inner_edu + dashboard)

**Framework:**
- **React 18** + TypeScript
- **Next.js 14** (App Router)
- **Zustand** (state management)

**UI Library:**
- **Tailwind CSS** (utility-first)
- **Radix UI** (headless components)
- **Framer Motion** (animations)
- **React Flow** (mind map)

**Voice:**
- **Web Speech API** (STT/TTS)
- **@openai/whisper** (optional premium)
- **react-speech-recognition**

**Charts:**
- **Recharts** (progress visualization)
- **D3.js** (custom mind maps)

**Game Engine:**
- **Phaser 3** (optional, for mini-games)
- Custom YAML parser for quests

### Backend (already exists)

- **FastAPI** (REST API) ‚úÖ
- **PostgreSQL** (database) ‚úÖ
- **WebSocket** (real-time updates)
- **Redis** (caching, sessions)

### Deployment

- **Vercel** (Next.js frontend)
- **Railway** (FastAPI backend)
- **Cloudflare** (CDN, voice proxy)
- **S3** (quest assets, photos)

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

### –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (Privacy-First)

```tsx
<AnalyticsDashboard>
  {/* –¢–æ–ª—å–∫–æ —Å —Å–æ–≥–ª–∞—Å–∏—è —Ä–µ–±–µ–Ω–∫–∞ */}
  <PrivacyGate requires="child_consent">

    <MetricCard title="Quest Completion">
      <CompletionRate value={75} />
      <LastCompleted>2 –¥–Ω—è –Ω–∞–∑–∞–¥</LastCompleted>
    </MetricCard>

    <MetricCard title="Learning Progress">
      <SkillChart>
        Math: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë 80%
        Reading: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
        Empathy: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë 60%
      </SkillChart>
    </MetricCard>

    {/* –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π */}
    <MetricCard title="Emotional State">
      <Aggregate>
        Overall: Positive üòä
        Engagement: High
        Frustration: Low
      </Aggregate>
      <Note>
        ‚ö†Ô∏è –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–µ –≤–∏–¥–Ω—ã
        (—Ä–µ–±–µ–Ω–æ–∫ –Ω–µ –¥–∞–ª —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ)
      </Note>
    </MetricCard>

  </PrivacyGate>

  {/* –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ */}
  <MetricCard title="Quest Deployment">
    <QuestStatus>
      Draft: 2
      Published: 5
      Completed by child: 3
    </QuestStatus>
  </MetricCard>
</AnalyticsDashboard>
```

## üéØ User Flow (End-to-End)

### –°—Ü–µ–Ω–∞—Ä–∏–π: "–†–æ–¥–∏—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–≤—ã–π –∫–≤–µ—Å—Ç"

```mermaid
graph TD
    A[–†–æ–¥–∏—Ç–µ–ª—å –≤ Telegram] -->|/quest| B[–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Web Dashboard]
    B --> C[Quest Builder Wizard]
    C --> D[AI —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ —Ä–µ–±–µ–Ω–∫–µ]
    D --> E[–†–æ–¥–∏—Ç–µ–ª—å —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏]
    E --> F[GPT-4 –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç YAML]
    F --> G[–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∫–≤–µ—Å—Ç–∞]
    G --> H[Content Moderation]
    H -->|Passed| I[Deploy to inner_edu]
    H -->|Failed| J[–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã]
    J --> E
    I --> K[–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ä–µ–±–µ–Ω–∫—É]
    K --> L[–†–µ–±–µ–Ω–æ–∫ –≤–∏–¥–∏—Ç –Ω–æ–≤—ã–π –∫–≤–µ—Å—Ç]
    L --> M[–ü—Ä–æ—Ö–æ–¥–∏—Ç –∫–≤–µ—Å—Ç]
    M --> N[Reveal –º–æ–º–µ–Ω—Ç!]
    N --> O[–†–µ–±–µ–Ω–æ–∫ –º–æ–∂–µ—Ç –ø–æ–¥–µ–ª–∏—Ç—å—Å—è]
    O -->|–î–∞| P[–†–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ–∞–∫—Ü–∏—é]
    O -->|–ù–µ—Ç| Q[–î–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏]
```

## üöÄ Roadmap Implementation

### Phase 4.3.1: Core Dashboard (Week 1-2)
- [ ] Setup Next.js + TypeScript project
- [ ] MultiTrack Progress visualization
- [ ] Quest list & status
- [ ] Letter drafts view
- [ ] Basic profile page

### Phase 4.3.2: Quest Builder - Story Mode (Week 3-4)
- [ ] AI chat interface
- [ ] GPT-4 integration
- [ ] YAML generation
- [ ] Content moderation
- [ ] Preview component

### Phase 4.3.3: Quest Builder - Mind Map (Week 5-6)
- [ ] React Flow setup
- [ ] Node editor
- [ ] Connection logic
- [ ] YAML export
- [ ] Template system

### Phase 4.3.4: Child Quest Player (Week 7-9)
- [ ] Quest YAML parser
- [ ] Game UI components
- [ ] XP/Badge system
- [ ] Reveal mechanics
- [ ] Profile & collection

### Phase 4.3.5: Voice Mode (Week 10-11)
- [ ] Web Speech API integration
- [ ] Voice commands
- [ ] Audio narration
- [ ] Speech recognition
- [ ] Offline fallback

### Phase 4.3.6: Wiki & Documentation (Week 12)
- [ ] Wiki structure
- [ ] Tutorial articles
- [ ] Video guides
- [ ] Template library
- [ ] Community forum

### Phase 4.3.7: Testing & Polish (Week 13-14)
- [ ] E2E tests
- [ ] Accessibility audit
- [ ] Performance optimization
- [ ] User testing
- [ ] Launch preparation

## üìù Next Steps

1. **Get UX Decisions** from stakeholder:
   - Final color palette approval
   - Voice mode priority (high/medium)
   - Mind map complexity level

2. **Create Figma Mockups**:
   - Parent dashboard screens
   - Child quest player screens
   - Quest builder flow

3. **Setup Development Environment**:
   - Next.js monorepo structure
   - Shared component library
   - API integration layer

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 2025-11-09
**–°—Ç–∞—Ç—É—Å:** üöß Draft - Awaiting UX Decisions
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** Create detailed component specifications
